import{_ as p,r as f,a as e,c as i,d as t,t as c,b as y,w as k,k as g,l as v,h as x,g as r,e as m,F as u,m as S,n as w,v as C,p as M,j as U}from"./index-76f161ad.js";import{r as $}from"./getRankImg-228b2a8d.js";import{_ as D}from"./wbmm_icon-9103ef0c.js";import{u as B}from"./seasonStatus-1d5c7ae6.js";import{u as N}from"./siteStatus-06a6944b.js";import"./getRank-5b36e2c9.js";const R={props:["chat"],methods:{rankImgUrl:$}},L={key:0,class:"direct-chat-msg right"},V={class:"direct-chat-info clearfix"},E={class:"direct-chat-name pull-right"},A={class:"direct-chat-timestamp pull-left"},I=["src"],K={class:"direct-chat-text",style:{"background-color":"#9b7841","border-color":"#9b7841"}},T={key:1,class:"direct-chat-msg left"},F={class:"direct-chat-info clearfix"},j=t("span",{class:"direct-chat-name pull-left"},"SERVER ",-1),q={class:"direct-chat-timestamp pull-right"},z=t("img",{class:"direct-chat-img",src:D,alt:"User rank image"},null,-1),P={style:{"background-color":"#1C1C1C","border-color":"#1C1C1C",color:"#9b7841"},class:"direct-chat-text direct-chat-text-server"};function G(b,a,s,_,n,l){const d=f("big");return s.chat.senderName!="Server"?(e(),i("div",L,[t("div",V,[t("span",E,"SA - "+c(s.chat.senderName),1),t("span",A,c(s.chat.timeStamp),1)]),t("img",{class:"direct-chat-img",src:l.rankImgUrl(s.chat.senderRank),alt:"User rank image"},null,8,I),t("div",K,c(s.chat.message),1)])):(e(),i("div",T,[t("div",F,[j,t("span",q,c(s.chat.timeStamp),1)]),z,t("div",P,[y(d,null,{default:k(()=>[g(c(s.chat.message),1)]),_:1})])]))}const H=p(R,[["render",G]]),J={id:"chat-sidebar",class:"control-sidebar bg-gray-dark",style:{}},O={class:"box box-primary direct-chat direct-chat-primary bg-default-light",style:{"margin-bottom":"0"}},Q={id:"wbmm_chat_header",class:"box-header with-border bg-gray-darker",style:{display:"inline-block"}},W=t("h3",{class:"box-title",style:{"vertical-align":"middle"}},"Chat",-1),X=t("i",{class:"far fa-comment-dots",style:{"vertical-align":"top","margin-left":"4px","font-size":"14px"}},null,-1),Y={class:"box-tools pull-right"},Z={id:"chat_users","data-toggle":"tooltip",title:"Chat Users",class:"badge bg-brown"},tt=t("small",null,"USERS",-1),st={key:0,class:"fa fa-volume-up",style:{color:"#00A65A"}},et={key:1,class:"fa fa-volume-off",style:{color:"#DD4B39"}},at={id:"wbmm_chat_body",class:"box-body"},ot={id:"wbmm_chat",class:"direct-chat-messages"},ct={id:"wbmm_chat_footer",class:"box-footer bg-gray-darker",style:{position:"fixed",bottom:"0",width:"340px"}},it={class:"input-group"},nt=["onKeyup"],rt={class:"input-group-btn"},lt=["onClick"],dt=t("div",{class:"control-sidebar-bg"},null,-1),pt={__name:"chatPanel",setup(b){const a=v({chatMsg:""}),s=x(),_=B(),n=N(),l=async()=>{if(a.chatMsg=="")return;const d={msg:a.chatMsg,senderName:s.username,senderRank:_.BRank,timeStamp:new Date().toLocaleDateString()};await s.socket.emit("chatMsg",d,()=>{a.chatMsg=""}),console.log(s.chatList)};return(d,h)=>(e(),i(u,null,[t("aside",J,[t("div",O,[t("div",Q,[t("div",null,[W,X,t("div",Y,[t("span",Z,[g(c(r(n).onLineUsers)+" ",1),tt]),t("button",{id:"wbmm_chat_mute",class:"btn btn-col btn-box-tool",onClick:h[0]||(h[0]=m((...o)=>r(n).changeMuted&&r(n).changeMuted(...o),["stop"])),"data-toggle":"tooltip",title:"Unmute sound","data-widget":"chat-pane-toggle"},[r(n).muted?(e(),i("i",et)):(e(),i("i",st))])])])]),t("div",at,[t("div",ot,[(e(!0),i(u,null,S(r(s).chatList,o=>(e(),U(H,{chat:o,key:o.timeStamp},null,8,["chat"]))),128))])]),t("div",ct,[t("div",it,[w(t("input",{required:"true",type:"text",name:"message",placeholder:"Type Message ...",class:"form-control","onUpdate:modelValue":h[1]||(h[1]=o=>a.chatMsg=o),onKeyup:M(l,["enter"])},null,40,nt),[[C,a.chatMsg]]),t("span",rt,[t("button",{type:"button",class:"btn btn-success btn-flat",onClick:m(l,["stop"])},"Send",8,lt)])])])])]),dt],64))}};export{pt as default};
